<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Introduction · doobie</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='docs'/>
<link rel="canonical" href="https://github.com/typelevel/doobiedocs/01-Introduction.html"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/warnOldVersion.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/snippets.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>doobie
</a>
<div class="version-number">
1.0.0-RC7
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../infographic.html" class="page">Infographic</a></li>
  <li><a href="../migration.html" class="page">Migration Notes</a></li>
  <li><a href="../docs/index.html" class="page">Book of Doobie</a>
  <ul>
    <li><a href="../docs/01-Introduction.html" class="active page">Introduction</a></li>
    <li><a href="../docs/02-Toolkit.html" class="page">Toolkit</a></li>
    <li><a href="../docs/03-Connecting.html" class="page">Connecting to a Database</a></li>
    <li><a href="../docs/04-Selecting.html" class="page">Selecting Data</a></li>
    <li><a href="../docs/05-Parameterized.html" class="page">Parameterized Queries</a></li>
    <li><a href="../docs/06-Checking.html" class="page">Typechecking Queries</a></li>
    <li><a href="../docs/07-Updating.html" class="page">DDL, Inserting, and Updating</a></li>
    <li><a href="../docs/08-Fragments.html" class="page">Statement Fragments</a></li>
    <li><a href="../docs/09-Error-Handling.html" class="page">Error Handling</a></li>
    <li><a href="../docs/10-Logging.html" class="page">Logging</a></li>
    <li><a href="../docs/11-Arrays.html" class="page">SQL Arrays</a></li>
    <li><a href="../docs/12-Custom-Mappings.html" class="page">Custom Mappings</a></li>
    <li><a href="../docs/13-Unit-Testing.html" class="page">Unit Testing</a></li>
    <li><a href="../docs/14-Managing-Connections.html" class="page">Managing Connections</a></li>
    <li><a href="../docs/15-Extensions-PostgreSQL.html" class="page">Extensions for PostgreSQL</a></li>
    <li><a href="../docs/16-Extensions-H2.html" class="page">Extensions for H2</a></li>
    <li><a href="../docs/17-FAQ.html" class="page">Frequently-Asked Questions</a></li>
    <li><a href="../docs/18-Related-Projects.html" class="page">Related Projects</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../index.html">doobie</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>doobie
</a>
<div class="version-number">
1.0.0-RC7
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../infographic.html" class="page">Infographic</a></li>
  <li><a href="../migration.html" class="page">Migration Notes</a></li>
  <li><a href="../docs/index.html" class="page">Book of Doobie</a>
  <ul>
    <li><a href="../docs/01-Introduction.html" class="active page">Introduction</a></li>
    <li><a href="../docs/02-Toolkit.html" class="page">Toolkit</a></li>
    <li><a href="../docs/03-Connecting.html" class="page">Connecting to a Database</a></li>
    <li><a href="../docs/04-Selecting.html" class="page">Selecting Data</a></li>
    <li><a href="../docs/05-Parameterized.html" class="page">Parameterized Queries</a></li>
    <li><a href="../docs/06-Checking.html" class="page">Typechecking Queries</a></li>
    <li><a href="../docs/07-Updating.html" class="page">DDL, Inserting, and Updating</a></li>
    <li><a href="../docs/08-Fragments.html" class="page">Statement Fragments</a></li>
    <li><a href="../docs/09-Error-Handling.html" class="page">Error Handling</a></li>
    <li><a href="../docs/10-Logging.html" class="page">Logging</a></li>
    <li><a href="../docs/11-Arrays.html" class="page">SQL Arrays</a></li>
    <li><a href="../docs/12-Custom-Mappings.html" class="page">Custom Mappings</a></li>
    <li><a href="../docs/13-Unit-Testing.html" class="page">Unit Testing</a></li>
    <li><a href="../docs/14-Managing-Connections.html" class="page">Managing Connections</a></li>
    <li><a href="../docs/15-Extensions-PostgreSQL.html" class="page">Extensions for PostgreSQL</a></li>
    <li><a href="../docs/16-Extensions-H2.html" class="page">Extensions for H2</a></li>
    <li><a href="../docs/17-FAQ.html" class="page">Frequently-Asked Questions</a></li>
    <li><a href="../docs/18-Related-Projects.html" class="page">Related Projects</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">doobie</a></li>
  <li><a href="../docs/index.html">Book of Doobie</a></li>
  <li>Introduction</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<div style="margin-bottom: 20px; text-align: center"><img src="../img/yeah.png"/></div>
<h2><a href="#introduction" name="introduction" class="anchor"><span class="anchor-link"></span></a>Introduction</h2>
<p>This is a very short book about <strong>doobie</strong>, which is a pure-functional JDBC layer for Scala.</p>
<p><strong>doobie</strong> provides low-level access to everything in <code>java.sql</code> (as of Java 8), allowing you to write any JDBC program in a pure functional style. However the focus of this book is the <strong>high-level API</strong>, which is where most users will spend their time.</p>
<p>This book is organized cookbook-style: we demonstrate a common task and then explain how it works, perhaps in more detail than you want right now. The goal is to get you up and running quickly, but give you a handle on the deeper stuff if you need it later.</p>
<h3><a href="#target-audience" name="target-audience" class="anchor"><span class="anchor-link"></span></a>Target Audience</h3>
<p>This library is designed for people who are interested in typed, pure functional programming. If you are not a <a href="https://github.com/typelevel/cats">Cats</a> user or are not familiar with functional I/O and monadic effects, you may need to go slowly and may want to spend some time reading <a href="http://manning.com/bjarnason/">Functional Programming in Scala</a>, which introduces all of the ideas that you will find when exploring <strong>doobie</strong>.</p>
<p>Having said this, if you find yourself confused or frustrated by this documentation or the <strong>doobie</strong> API, <em>please</em> ask a question on <a href="https://gitter.im/tpolecat/doobie">Gitter</a>, file an <a href="https://github.com/tpolecat/doobie/issues">issue</a> and ask for help. Both the library and the documentation are young and are changing quickly, and it is inevitable that some things will be unclear. Accordingly, <strong>this book is updated continuously</strong> to address problems and omissions.</p>
<h3><a href="#the-setup" name="the-setup" class="anchor"><span class="anchor-link"></span></a>The Setup</h3>
<p>This book is compiled as part of the build using the <a href="https://github.com/tpolecat/tut">tut</a> tutorial generator, so the code examples are guaranteed to compile (and with luck should also work correctly). Each page stands on its own: if you copy and paste code samples starting from the top, it will work in your REPL as long as you have the proper setup, described here.</p>
<h4><a href="#sample-database-setup" name="sample-database-setup" class="anchor"><span class="anchor-link"></span></a>Sample Database Setup</h4>
<p>The example code assumes a local <a href="http://www.postgresql.org/">PostgreSQL</a> server with a <code>postgres</code> user with no password, <a href="http://postgis.net/">PostGIS</a> extensions (optional), and the sample <code>world</code> database loaded up. If you&rsquo;re on a Mac you might check out the excellent <a href="http://postgresapp.com/">Postgres.app</a> if you don&rsquo;t want to install PostgreSQL as a service. You can set up the user and sample database (and an <code>enum</code> we use in a few examples) as follows:</p>
<pre><code>$ curl -O https://raw.githubusercontent.com/tpolecat/doobie/series/0.7.x/world.sql
$ psql -c &#39;create user postgres createdb&#39; postgres
$ psql -c &#39;create database world;&#39; -U postgres
$ psql -c &#39;\i world.sql&#39; -d world -U postgres
$ psql -d world -c &quot;create type myenum as enum (&#39;foo&#39;, &#39;bar&#39;)&quot; -U postgres
$ psql -d world -c &quot;create extension postgis&quot; -U postgres
</code></pre>
<p>Skip the last statement if you don&rsquo;t have PostGIS installed. Note that the final <code>ANALYZE</code> comand in the import will emit a few errors for system tables. This is expected and is fine. Try a query or two to double-check your setup:</p>
<pre><code>$ psql -d world -U postgres
psql (9.3.5)
Type &quot;help&quot; for help.

world=&gt; select name, continent, population from country where name like &#39;U%&#39;;
                 name                 |   continent   | population
--------------------------------------+---------------+------------
 United Arab Emirates                 | Asia          |    2441000
 United Kingdom                       | Europe        |   59623400
 Uganda                               | Africa        |   21778000
 Ukraine                              | Europe        |   50456000
 Uruguay                              | South America |    3337000
 Uzbekistan                           | Asia          |   24318000
 United States                        | North America |  278357000
 United States Minor Outlying Islands | Oceania       |          0
(8 rows)

world=&gt; \q
$
</code></pre>
<p>You can of course change this setup if you like, but you will need to adjust your JDBC connection information accordingly. Most examples will work with any compliant database, but in a few cases (noted in the text) we rely on vendor-specific behavior.</p>
<h4><a href="#scala-setup" name="scala-setup" class="anchor"><span class="anchor-link"></span></a>Scala Setup</h4>
<p>On the Scala side you just need a console with the proper dependencies. A minimal <code>build.sbt</code> would look something like this.</p>
<pre class="prettyprint"><code class="language-scala">scalaVersion := &quot;2.13.16&quot; // Scala 2.13.16

lazy val doobieVersion = &quot;1.0.0-RC7&quot;

libraryDependencies ++= Seq(
  &quot;org.tpolecat&quot; %% &quot;doobie-core&quot;     % doobieVersion,
  &quot;org.tpolecat&quot; %% &quot;doobie-postgres&quot; % doobieVersion,
  &quot;org.tpolecat&quot; %% &quot;doobie-specs2&quot;   % doobieVersion
)
</code></pre>
<p>The <code>-Ypartial-unification</code> compiler flag enables a bug fix that makes working with functional code significantly easier. See the Cats <a href="https://github.com/typelevel/cats#getting-started">Getting Started</a> for more info on this if it interests you. <strong>If you&rsquo;re using Scala 2.13+ the compiler no longer accepts that option</strong>.</p>
<p>If you are not using PostgreSQL you can omit <code>doobie-postgres</code> and will need to add the appropriate JDBC driver as a dependency. Note that there is a <code>doobie-h2</code> add-on if you happen to be using <a href="http://www.h2database.com/">H2</a>.</p>
<h3><a href="#conventions" name="conventions" class="anchor"><span class="anchor-link"></span></a>Conventions</h3>
<p>Each page begins with some imports, like this.</p>
<pre class="prettyprint"><code class="language-scala">import cats._, cats.data._, cats.implicits._
import doobie._
</code></pre>
<p>After that there is text interspersed with code examples. Sometimes definitions will stand alone.</p>
<pre class="prettyprint"><code class="language-scala">case class Person(name: String, age: Int)
val nel = NonEmptyList.of(Person(&quot;Bob&quot;, 12), Person(&quot;Alice&quot;, 14))
</code></pre>
<p>And sometimes they will appear with output.</p>
<pre class="prettyprint"><code class="language-scala">nel.head
// res0: Person = Person(name = &quot;Bob&quot;, age = 12)
nel.tail
// res1: List[Person] = List(Person(name = &quot;Alice&quot;, age = 14))
</code></pre>
<p>Sometimes we demonstrate that something doesn&rsquo;t compile. In such cases it will be clear from the context that this is expected, and not a problem with the documentation.</p>
<pre class="prettyprint"><code class="language-scala">woozle(nel) // doesn&#39;t compile
// error: not found: value woozle
// woozle(nel) // doesn&#39;t compile
// ^^^^^^
</code></pre>
<h3><a href="#feedback-and-contributions" name="feedback-and-contributions" class="anchor"><span class="anchor-link"></span></a>Feedback and Contributions</h3>
<p>Feedback on <strong>doobie</strong> or this book is genuinely welcome. Please feel free to file a <a href="https://github.com/tpolecat/doobie">pull request</a> if you have a contribution, or file an <a href="https://github.com/tpolecat/doobie/issues">issue</a>, or chat with us on <a href="https://gitter.im/tpolecat/doobie">Gitter</a>.</p>
<div class="source-github">
The source code for this page can be found <a href="https://github.com/typelevel/doobie/tree/master/modules/docs/target/mdoc/docs/01-Introduction.md">here</a>.
</div>

<div class="nav-next">
<p><strong>Next:</strong> <a href="../docs/02-Toolkit.html">Toolkit</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../docs/01-Introduction.html#introduction" class="header">Introduction</a>
  <ul>
    <li><a href="../docs/01-Introduction.html#target-audience" class="header">Target Audience</a></li>
    <li><a href="../docs/01-Introduction.html#the-setup" class="header">The Setup</a></li>
    <li><a href="../docs/01-Introduction.html#conventions" class="header">Conventions</a></li>
    <li><a href="../docs/01-Introduction.html#feedback-and-contributions" class="header">Feedback and Contributions</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2025</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '1.0.0-RC7', 'https://github.com/typelevel/doobie')});</script>


</html>
